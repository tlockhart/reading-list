(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},31:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o),c=a(6),s=a(7),i=a(9),m=a(8),u=a(10),f=a(46),h=a(47),p=a(48),d=a(18),E=a(3),v=a.n(E),b=a(11),k=a(13);a(29);var g=function(e){return r.a.createElement("div",{className:"user-btn"},r.a.createElement("button",Object.assign({type:"button",className:"btn custom-save-btn"},e,{tabIndex:"0"}),"Save"))},N=(a(31),a(45));var w=function(e){return r.a.createElement(N.a,{to:e.to},r.a.createElement("button",{type:"button",className:"btn custom-view-btn",tabIndex:"0"},"View"))};a(35);var y=function(e){return r.a.createElement(N.a,{to:e.to},r.a.createElement("button",{type:"button",className:"btn custom-view-btn",tabIndex:"0"},"View"))};var x=function(e){var t=e.children;return r.a.createElement("div",{style:{clear:"both",paddingTop:"4rem",textAlign:"center"},className:"jumbotron detailJumbotron"},t)},j={search:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch('https://www.googleapis.com/books/v1/volumes?q=";'+t+'&api_key=AIzaSyC-aBdJ9iCcpb-0gm8P5QbE9HEfDmuC8AM";');case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Network response was not ok");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getBooks:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books");case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Network response was not ok");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getBook:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books/"+t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Network response was not ok");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books/"+t,{method:"DELETE"});case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Network response was not ok");case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(b.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("BookData0:",t),e.next=3,fetch("/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Network response was not ok");case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};function O(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function B(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function I(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(37);function S(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function C(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}function D(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function z(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn custom-btn-success"}),e.children)}var A=a(19),L=a.n(A),J=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).callback=function(t){try{console.log("Data:",t),e.setState({books:t.items,error:null})}catch(a){console.error("Error processing response:",a),e.setState({books:[],error:"Error processing search results"})}},e.searchBooks=function(e,t){console.log("Query:",e),j.search(e).then(function(e){t(e)}).catch(function(e){console.error("Search error:",e)})},e.loadBooks=Object(b.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.getBooks();case 3:a=t.sent,e.setState({books:a.data,title:"",author:"",synopsis:"",error:null}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Load books error:",t.t0),e.setState({error:"Error loading books. Please try again later.",books:[]});case 11:case"end":return t.stop()}},t,this,[[0,7]])})),e.saveBook=function(t){console.log("BookData1:",t),j.saveBook(t).then(function(){console.log("BookData2:",t);var a=e.state.books.filter(function(e){return e.id!==t.bookId});e.setState({books:a,error:null})}).catch(function(t){console.error("Save book error:",t),e.setState({error:"Error saving book"})})},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(d.a)({},n,r))},e.handleFormSearch=function(t){e.state.title&&(t.preventDefault(),e.searchBooks(e.state.title,e.callback))},e.saveClickHandler=function(t,a){t.preventDefault(),e.setState({book:a}),console.log("BOOK = "+JSON.stringify(a)),e.saveBook(a)},L.a.enableUniqueIds(Object(k.a)(Object(k.a)(e))),e.state={books:[],book:{},key:e.nextUniqueId(),id:"",title:"",author:"",synopsis:"",url:"",data:{},error:null},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O,{fluid:!0},r.a.createElement(B,null,r.a.createElement(I,{size:"md-12"},r.a.createElement(x,{className:"w-100"},r.a.createElement("h1",{className:"title"},"(React) Google Books Search"),r.a.createElement("h4",null,"Search, View, and Save Books of Interest"))),r.a.createElement("div",{className:"results"},r.a.createElement(I,{size:"md-12"},r.a.createElement("form",null,r.a.createElement("strong",null,r.a.createElement("h5",null,"Book Search")),r.a.createElement("label",{htmlFor:"title"},r.a.createElement("p",null,"Book")),r.a.createElement(D,{className:"custom-form-control",type:"text",value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Title (required)"}),r.a.createElement(z,{disabled:!this.state.title,onClick:this.handleFormSearch},"Search")))),r.a.createElement("div",{className:"results"},r.a.createElement(I,{size:"md-12 sm-12"},this.state.books&&this.state.books.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,r.a.createElement("h5",null,"Results")),r.a.createElement(S,null,this.state.books.map(function(t){return r.a.createElement(C,{key:t.key},r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"justify-self-end text-right button-wrapper"},r.a.createElement(y,{to:{pathname:"/book/detail",state:{url:t.volumeInfo.previewLink,image:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://dummyimage.com/128x195/fff/fff&text=No+Image+Available",title:t.volumeInfo.title,bookId:t.id,author:t.volumeInfo.authors,synopsis:t.volumeInfo.description}}},"View"),r.a.createElement(g,{onClick:function(a){e.saveClickHandler(a,{url:t.volumeInfo.previewLink,image:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://dummyimage.com/128x195/fff/fff&text=No+Image+Available",title:t.volumeInfo.title,bookId:t.id,author:t.volumeInfo.authors,synopsis:t.volumeInfo.description})}})),r.a.createElement("div",{className:"justify-self-start text-left title-author"},r.a.createElement("strong",null,r.a.createElement("p",null,t.volumeInfo.title," "),r.a.createElement("p",null,"Written by ",t.volumeInfo.authors))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{className:"img-fluid book-img",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://dummyimage.com/128x195/fff/fff&text=No+Image+Available"}),r.a.createElement("p",{className:"book-text text-align-left"},t.volumeInfo.description)))))))}))):r.a.createElement("strong",null,r.a.createElement("h5",null,"No Results to Display"))))))}}]),t}(n.Component);var F=function(e){return r.a.createElement("div",{className:"user-btn"},r.a.createElement("button",Object.assign({type:"button",className:"btn custom-delete-btn"},e,{tabIndex:"0"}),"Delete"))},R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],title:"",author:"",synopsis:"",id:""},a.loadBooks=function(){j.getBooks().then(function(e){console.log("Res:",e),a.setState({books:e,title:"",author:"",synopsis:""})}).catch(function(e){return console.log(e)})},a.deleteClickHandler=function(e,t){e.preventDefault(),a.deleteBook(t)},a.viewClickHandler=function(e,t){e.preventDefault(),a.setState({id:t}),window.open("/books/"+t)},a.deleteBook=function(e){j.deleteBook(e).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return r.a.createElement(O,{fluid:!0},r.a.createElement(B,null,r.a.createElement(I,{size:"md-12 sm-12"},r.a.createElement(x,{className:"w-100"},r.a.createElement("h1",{className:"title"},"(React) Google Books Search"),r.a.createElement("h4",null,"View or Delete Saved Books"))),r.a.createElement("div",{className:"results"},r.a.createElement(I,{size:"md-12 sm-12"},this.state.books.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,r.a.createElement("h5",null,"Saved Books")),r.a.createElement(S,null,this.state.books.map(function(t){return r.a.createElement(C,{key:t._id},r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"justify-self-end text-right button-wrapper"},r.a.createElement(w,{to:{pathname:"/books/"+"".concat(t._id)}}),r.a.createElement(F,{onClick:function(a){e.deleteClickHandler(a,t._id)}})),r.a.createElement("div",{className:"justify-self-start text-left title-author"}),r.a.createElement("strong",null,r.a.createElement("p",null,t.title," "),r.a.createElement("p",null,"Written by ",t.author)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{className:"img-fluid book-img",src:t.image?t.image:"https://dummyimage.com/128x195/fff/fff&text=No+Image+Available"}),r.a.createElement("p",{className:"book-text text-align-left"},t.synopsis)))))))}))):r.a.createElement("h3",null,"No Results to Display")))))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={book:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.getBook(this.props.match.params.id).then(function(t){return e.setState({book:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(O,{fluid:!0},r.a.createElement(B,null,r.a.createElement(I,{size:"md-12"},r.a.createElement(x,{className:"detailJumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"title"},this.state.book.title," by ",this.state.book.author)),r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{className:"img-fluid",src:this.state.book.image})),r.a.createElement("div",{className:"col-12"},r.a.createElement(N.a,{to:"/"},"\u2190Back to Search |"),r.a.createElement("a",{href:this.state.book.url,target:"_blank"}," Preview Book \u2192"))))))),r.a.createElement(B,null,r.a.createElement("div",{className:"results"},r.a.createElement(I,{size:"md-12"},r.a.createElement("article",null,r.a.createElement("strong",null,r.a.createElement("h5",null,"Synopsis")),r.a.createElement("p",null,this.state.book.synopsis))))))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={book:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.handle;var e=this.props.location.state.url,t=this.props.location.state.image,a=this.props.location.state.title,n=this.props.location.state.bookId,r=this.props.location.state.author,o=this.props.location.state.synopsis;this.setState({book:{url:e,image:t,title:a,author:r,bookId:n,synopsis:o}})}},{key:"render",value:function(){return r.a.createElement(O,{fluid:!0},r.a.createElement(B,null,r.a.createElement(I,{size:"md-12"},r.a.createElement(x,{className:"detailJumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"title"},this.state.book.title," by ",this.state.book.author)),r.a.createElement("div",{className:"col-12"},r.a.createElement("img",{className:"img-fluid",src:this.state.book.image})),r.a.createElement("div",{className:"col-12"},r.a.createElement(N.a,{to:"/"},"\u2190Back to Search |"),r.a.createElement("a",{href:this.state.book.url,target:"_blank"}," Preview Book \u2192"))))))),r.a.createElement(B,null,r.a.createElement("div",{className:"results"},r.a.createElement(I,{size:"md-12"},r.a.createElement("article",null,r.a.createElement("strong",null,r.a.createElement("h5",null,"Synopsis")),r.a.createElement("p",null,this.state.book.synopsis))))))}}]),t}(n.Component);var _=function(){return r.a.createElement(O,{fluid:!0},r.a.createElement(B,null,r.a.createElement(I,{size:"md-12"},r.a.createElement(x,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};a(39);var T=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",null,r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{to:"/",className:"/"===window.location.pathname?"nav-link active":"nav-link inactive"},r.a.createElement("p",{className:"icon"},"Google Books Search"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{to:"/",className:"/"===window.location.pathname?"nav-link active":"nav-link inactive"},r.a.createElement("p",{className:"icon"},"Search"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(N.a,{to:"/saved",className:"/saved"===window.location.pathname?"nav-link active":"nav-link inactive"},r.a.createElement("p",{className:"icon"},"Saved"))))))},V=(a(41),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:J}),r.a.createElement(p.a,{exact:!0,path:"/books",component:J}),r.a.createElement(p.a,{exact:!0,path:"/saved",component:R}),r.a.createElement(p.a,{exact:!0,path:"/books/:id",component:H}),r.a.createElement(p.a,{exact:!0,path:"/book/detail",component:P}),r.a.createElement(p.a,{exact:!0,path:"/books/search/:bookid",component:J}),r.a.createElement(p.a,{component:_}))))}}]),t}(r.a.Component));l.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.b9765ce7.chunk.js.map